<!DOCTYPE html>
<html>
    <head>
        <title>baby's first website</title>
        <link rel="stylesheet" href="../../style.css" />
        <script>
            window.addEventListener("load", () => {
                const pdfViewer = document.getElementById("pdf-viewer");
                // const htmlViewer = document.getElementById("html-viewer");
                const genUrl = (filetype) =>
                    `https://resume-server-three.vercel.app/api/resume.${filetype}`;
                fetch(genUrl("pdf"), {
                    "accept": "application/pdf"
                })
                    .then((response) => response.blob())
                    .then((blob) => URL.createObjectURL(blob))
                    .then((url) => {
                        document
                            .getElementById("pdf-download")
                            .setAttribute("href", url);
                        pdfViewer.setAttribute("src", url);
                    });
                // fetch(genUrl("html"))
                //     .then((response) => response.blob())
                //     .then((blob) => URL.createObjectURL(blob))
                //     .then((url) => {
                //         htmlViewer.setAttribute("src", url);
                //     });
                // function toggleDisplay(elem) {
                //     if (elem.style.display === "none") {
                //         elem.style.display = "block";
                //     } else {
                //         elem.style.display = "none";
                //     }
                // }
                // const toggleButton = document.getElementById("btn");
                // if (!toggleButton) {
                //     throw new Error("toggleButton not found");
                // }
                // toggleButton.addEventListener("click", () => {
                //     toggleDisplay(pdfViewer);
                //     toggleDisplay(htmlViewer);
                // });
            });
        </script>
        <style>
            .previewer {
                width: 90%;
                aspect-ratio: 8.5/11;
                align-items: center;
            }
        </style>
    </head>
    <body class="background">
        <center>
            <!-- <button id="btn">Toggle Viewer</button> -->
            <embed
                id="pdf-viewer"
                class="previewer"
                src=""
                type="application/pdf"
            />
            <!-- <iframe -->
            <!--     id="html-viewer" -->
            <!--     class="previewer" -->
            <!--     src="" -->
            <!--     type="text/html" -->
            <!--     style="display: hidden; width: 8.5in; height: 11in;" -->
            <!-- ></iframe> -->
        </center>
        <h1 class="yellowbox">
            <a
                href=""
                id="pdf-download"
                download="Benjamin-Kunkle-Resume"
                style="color: var(--blue)"
            >
                <p>Download Resume PDF</p>
            </a>
        </h1>
    </body>
</html>
