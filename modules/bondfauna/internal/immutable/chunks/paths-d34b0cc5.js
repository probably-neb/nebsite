import{C as b,D as m,E as y,s as q,F as w}from"./index-a80103fd.js";const c=[];function z(e,i){return{subscribe:A(e,i).subscribe}}function A(e,i=b){let u;const t=new Set;function a(n){if(q(e,n)&&(e=n,u)){const r=!c.length;for(const s of t)s[1](),c.push(s,e);if(r){for(let s=0;s<c.length;s+=2)c[s][0](c[s+1]);c.length=0}}}function l(n){a(n(e))}function f(n,r=b){const s=[n,r];return t.add(s),t.size===1&&(u=i(a)||b),n(e),()=>{t.delete(s),t.size===0&&(u(),u=null)}}return{set:a,update:l,subscribe:f}}function E(e,i,u){const t=!Array.isArray(e),a=t?[e]:e,l=i.length<2;return z(u,f=>{let n=!1;const r=[];let s=0,d=b;const _=()=>{if(s)return;d();const o=i(t?r[0]:r,f);l?f(o):d=w(o)?o:b},g=a.map((o,p)=>m(o,h=>{r[p]=h,s&=~(1<<p),n&&_()},()=>{s|=1<<p}));return n=!0,_(),function(){y(g),d()}})}const x="/modules/bondfauna";let C=x;function F(e){C=e}export{C as a,x as b,E as d,F as s,A as w};
